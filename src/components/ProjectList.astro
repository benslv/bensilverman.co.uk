---
import { getCollection } from "astro:content";
import ProjectEntry from "./ProjectEntry.astro";

interface Props {
	featuredOnly?: boolean;
}

const { featuredOnly } = Astro.props;

const allProjects = await getCollection("projects", ({ data }) =>
	featuredOnly ? data.featured : true
);
---

<div>
	{allProjects.map((project) => <ProjectEntry project={project} />)}
</div>
